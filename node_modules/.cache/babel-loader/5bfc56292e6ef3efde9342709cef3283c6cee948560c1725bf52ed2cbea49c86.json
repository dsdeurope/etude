{"ast":null,"code":"import _objectSpread from\"/app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import ApiControlPanel from'./ApiControlPanel';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RubriquePage=_ref=>{let{onGoBack,rubriqueNumber,rubriqueTitle,content,bookInfo,onNavigateToRubrique,// Nouvelles props pour les boutons fonctionnels\nselectedBook=\"Genèse\",selectedChapter=\"1\",selectedVerse=\"--\",selectedLength=500,setCurrentPage,API_BASE,setContent,setRubriquesStatus,setIsLoading,isLoading=false,BASE_RUBRIQUES=[]}=_ref;// Debug: Afficher le contenu reçu\nconsole.log(\"[RUBRIQUE PAGE DEBUG] Rubrique \".concat(rubriqueNumber,\":\"));console.log(\"[RUBRIQUE PAGE DEBUG] Content type:\",typeof content);console.log(\"[RUBRIQUE PAGE DEBUG] Content length:\",content?content.length:0);console.log(\"[RUBRIQUE PAGE DEBUG] Content preview:\",content?content.slice(0,100)+\"...\":\"VIDE\");console.log(\"[RUBRIQUE PAGE DEBUG] Content truthy:\",!!content);// État pour le modal API\nconst[isApiModalOpen,setIsApiModalOpen]=React.useState(false);const[apiStatus,setApiStatus]=React.useState(null);const[apiHistory,setApiHistory]=React.useState(null);// Fonctions pour gérer le modal API\nconst fetchApiStatus=async()=>{if(!API_BASE)return;try{const response=await fetch(\"\".concat(API_BASE,\"/api-status\"));if(response.ok){const status=await response.json();setApiStatus(status);console.log('[RUBRIQUE API] Statut récupéré:',status);}}catch(error){console.error('[RUBRIQUE API] Erreur statut:',error);}};const fetchApiHistory=async()=>{if(!API_BASE)return;try{const response=await fetch(\"\".concat(API_BASE,\"/api-history\"));if(response.ok){const history=await response.json();setApiHistory(history);console.log('[RUBRIQUE API] Historique récupéré:',history);}}catch(error){console.error('[RUBRIQUE API] Erreur historique:',error);}};// Charger les données API au montage du composant\nReact.useEffect(()=>{if(isApiModalOpen){fetchApiStatus();fetchApiHistory();}},[isApiModalOpen,API_BASE]);// Fonctions utilitaires pour l'affichage API\nconst getLedColor=api=>{return api.color==='green'?'#00ff00':'#ff0000';};const ledStyle=color=>({width:'10px',height:'10px',borderRadius:'50%',backgroundColor:color,marginRight:'12px',boxShadow:\"0 0 8px \".concat(color),animation:'pulse-led 2s infinite ease-in-out'});const getStatusIcon=api=>{return api.color==='green'?'✅':'❌';};// Fonctions de gestion des boutons - COPIÉES DE LA PAGE PRINCIPALE\n// 1. Fonction Gemini (copiée de App.js)\nconst handleGeminiAction=async()=>{if(!API_BASE||!setContent||!setRubriquesStatus||!setIsLoading){console.warn(\"[RUBRIQUE] API functions not available\");return;}try{setIsLoading(true);setContent(\"Enrichissement théologique avec votre Gemini gratuit en cours...\");setRubriquesStatus(p=>_objectSpread(_objectSpread({},p),{},{[rubriqueNumber]:\"in-progress\"}));const passage=selectedVerse===\"--\"||selectedVerse===\"vide\"?\"\".concat(selectedBook,\" \").concat(selectedChapter):\"\".concat(selectedBook,\" \").concat(selectedChapter,\":\").concat(selectedVerse);// Enrichir théologiquement avec votre clé Gemini gratuite\nif(rubriqueNumber>=1&&rubriqueNumber<=28){const rubriqueTitle=BASE_RUBRIQUES[rubriqueNumber]||\"Rubrique \".concat(rubriqueNumber);// Générer un enrichissement théologique avec longueur augmentée\nconst enrichedLength=Math.min(2000,parseInt(selectedLength)+500);console.log(\"[ENRICHISSEMENT GEMINI GRATUIT] Rubrique \".concat(rubriqueNumber,\" - Longueur enrichie: \").concat(enrichedLength,\" caract\\xE8res\"));// Appeler votre backend avec votre clé Gemini gratuite\nconst response=await fetch(\"\".concat(API_BASE,\"/generate-verse-by-verse\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({passage:passage,tokens:enrichedLength,use_gemini:true,enriched:true,rubrique_context:rubriqueTitle})});if(response.ok){const data=await response.json();const enrichedContent=data.content||\"Contenu enrichi non disponible\";console.log(\"[ENRICHISSEMENT GEMINI GRATUIT] Contenu enrichi re\\xE7u: \".concat(enrichedContent.length,\" caract\\xE8res\"));setContent(enrichedContent);setRubriquesStatus(p=>_objectSpread(_objectSpread({},p),{},{[rubriqueNumber]:\"completed\"}));}else{throw new Error(\"Erreur API: \".concat(response.status));}}}catch(err){console.error(\"Erreur enrichissement Gemini:\",err);setContent(\"Erreur lors de l'enrichissement Gemini: \".concat(err.message));setRubriquesStatus(p=>_objectSpread(_objectSpread({},p),{},{[rubriqueNumber]:\"error\"}));}finally{setIsLoading(false);}};// 2. Fonction ChatGPT (copiée de App.js)\nconst handleChatGPTAction=()=>{window.open('https://chatgpt.com/','_blank');};// 3. Fonction Notes (copiée de App.js)  \nconst handleNotesAction=()=>{if(setCurrentPage){setCurrentPage('notes');}else{console.warn(\"[RUBRIQUE] setCurrentPage not available\");}};// 4. Fonction API Control Panel (basée sur ApiControlPanel)\nconst handleApiAction=()=>{console.log('[CONTROL BUTTON] API button clicked for Rubrique',rubriqueNumber);setIsApiModalOpen(true);};// 5. Nouvelle fonction \"Lire la Bible\" (copiée de App.js)\nconst handleBibleAction=()=>{if(selectedBook===\"--\"){alert(\"Veuillez d'abord sélectionner un livre de la Bible\");return;}const bookCodes={\"Genèse\":\"GEN\",\"Exode\":\"EXO\",\"Lévitique\":\"LEV\",\"Nombres\":\"NUM\",\"Deutéronome\":\"DEU\",\"Josué\":\"JOS\",\"Juges\":\"JDG\",\"Ruth\":\"RUT\",\"1 Samuel\":\"1SA\",\"2 Samuel\":\"2SA\",\"1 Rois\":\"1KI\",\"2 Rois\":\"2KI\",\"1 Chroniques\":\"1CH\",\"2 Chroniques\":\"2CH\",\"Esdras\":\"EZR\",\"Néhémie\":\"NEH\",\"Esther\":\"EST\",\"Job\":\"JOB\",\"Psaumes\":\"PSA\",\"Proverbes\":\"PRO\",\"Ecclésiaste\":\"ECC\",\"Cantique des cantiques\":\"SNG\",\"Ésaïe\":\"ISA\",\"Jérémie\":\"JER\",\"Lamentations\":\"LAM\",\"Ézéchiel\":\"EZK\",\"Daniel\":\"DAN\",\"Osée\":\"HOS\",\"Joël\":\"JOL\",\"Amos\":\"AMO\",\"Abdias\":\"OBA\",\"Jonas\":\"JON\",\"Michée\":\"MIC\",\"Nahum\":\"NAM\",\"Habacuc\":\"HAB\",\"Sophonie\":\"ZEP\",\"Aggée\":\"HAG\",\"Zacharie\":\"ZEC\",\"Malachie\":\"MAL\",\"Matthieu\":\"MAT\",\"Marc\":\"MRK\",\"Luc\":\"LUK\",\"Jean\":\"JHN\",\"Actes\":\"ACT\",\"Romains\":\"ROM\",\"1 Corinthiens\":\"1CO\",\"2 Corinthiens\":\"2CO\",\"Galates\":\"GAL\",\"Éphésiens\":\"EPH\",\"Philippiens\":\"PHP\",\"Colossiens\":\"COL\",\"1 Thessaloniciens\":\"1TH\",\"2 Thessaloniciens\":\"2TH\",\"1 Timothée\":\"1TI\",\"2 Timothée\":\"2TI\",\"Tite\":\"TIT\",\"Philémon\":\"PHM\",\"Hébreux\":\"HEB\",\"Jacques\":\"JAS\",\"1 Pierre\":\"1PE\",\"2 Pierre\":\"2PE\",\"1 Jean\":\"1JN\",\"2 Jean\":\"2JN\",\"3 Jean\":\"3JN\",\"Jude\":\"JUD\",\"Apocalypse\":\"REV\"};const code=bookCodes[selectedBook];if(!code){alert(\"Livre non reconnu pour YouVersion\");return;}let url=\"https://www.bible.com/fr/bible/63/\".concat(code);if(selectedChapter!==\"--\"){url+=\".\".concat(selectedChapter);if(selectedVerse!==\"--\")url+=\".\".concat(selectedVerse);}window.open(url,\"_blank\");};const getRubriqueColor=number=>{// Couleurs variées pour les différentes rubriques\nconst colors={1:{start:'#8b5cf6',end:'#7c3aed',name:'Violet'},2:{start:'#3b82f6',end:'#2563eb',name:'Bleu'},3:{start:'#10b981',end:'#059669',name:'Vert'},4:{start:'#f59e0b',end:'#d97706',name:'Orange'},5:{start:'#ef4444',end:'#dc2626',name:'Rouge'},6:{start:'#8b5cf6',end:'#7c3aed',name:'Violet'},7:{start:'#06b6d4',end:'#0891b2',name:'Cyan'},8:{start:'#84cc16',end:'#65a30d',name:'Lime'},9:{start:'#f97316',end:'#ea580c',name:'Orange'},10:{start:'#ec4899',end:'#db2777',name:'Rose'},// Cycle pour les rubriques suivantes\ndefault:{start:'#6b7280',end:'#4b5563',name:'Gris'}};return colors[number]||colors[(number-1)%10+1]||colors.default;};const rubriqueColor=getRubriqueColor(rubriqueNumber);const formatRubriqueContent=content=>{if(!content)return'';// Formatage simple pour le contenu des rubriques\nreturn content.replace(/\\*\\*(.*?)\\*\\*/g,'<strong>$1</strong>').replace(/\\n\\n/g,'</p><p>').replace(/\\n/g,'<br/>');};return/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(135deg, rgba(248, 250, 252, 0.98) 0%, rgba(241, 245, 249, 0.95) 50%, rgba(248, 250, 252, 0.98) 100%)',fontFamily:'Inter, -apple-system, BlinkMacSystemFont, sans-serif'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:\"linear-gradient(135deg, \".concat(rubriqueColor.start,\" 0%, \").concat(rubriqueColor.end,\" 100%)\"),color:'white',padding:'30px 20px',boxShadow:\"0 8px 32px \".concat(rubriqueColor.start,\"40\"),position:'sticky',top:0,zIndex:100,overflow:'hidden'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:0,left:0,right:0,bottom:0,background:'linear-gradient(45deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(255, 255, 255, 0.05) 100%)',pointerEvents:'none'}}),/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'900px',margin:'0 auto',position:'relative',zIndex:10},children:[/*#__PURE__*/_jsx(\"button\",{onClick:onGoBack,style:{background:'rgba(255, 255, 255, 0.2)',border:'1px solid rgba(255, 255, 255, 0.3)',color:'white',padding:'10px 20px',borderRadius:'12px',cursor:'pointer',fontSize:'14px',fontWeight:'600',marginBottom:'20px',backdropFilter:'blur(10px)',transition:'all 0.3s ease'},onMouseOver:e=>{e.target.style.background='rgba(255, 255, 255, 0.3)';e.target.style.transform='translateY(-2px)';},onMouseOut:e=>{e.target.style.background='rgba(255, 255, 255, 0.2)';e.target.style.transform='translateY(0)';},children:\"\\u2190 Retour \\xE0 l'\\xC9tude\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',gap:'20px',marginBottom:'20px',flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,minWidth:'300px'},children:[/*#__PURE__*/_jsxs(\"h1\",{style:{fontSize:'clamp(1.8rem, 4vw, 2.5rem)',fontWeight:'800',margin:'0 0 8px 0',textAlign:'center',textShadow:'0 2px 8px rgba(0, 0, 0, 0.1)'},children:[\"\\uD83D\\uDCCB Rubrique \",rubriqueNumber]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'clamp(1rem, 3vw, 1.2rem)',textAlign:'center',opacity:0.9,fontWeight:'500'},children:rubriqueTitle})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px',flexWrap:'wrap',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleGeminiAction,disabled:isLoading,title:\"Enrichissement th\\xE9ologique avec Gemini\",style:{background:'linear-gradient(135deg, #8b5cf6, #7c3aed)',border:'none',borderRadius:'10px',color:'white',padding:'8px 14px',fontSize:'12px',fontWeight:'600',cursor:isLoading?'not-allowed':'pointer',transition:'all 0.3s ease',boxShadow:'0 3px 10px rgba(139, 92, 246, 0.3)',fontFamily:'Montserrat, sans-serif',textAlign:'center',opacity:isLoading?0.6:1},onMouseOver:e=>{if(!isLoading){e.target.style.transform='translateY(-1px)';e.target.style.boxShadow='0 4px 15px rgba(139, 92, 246, 0.4)';}},onMouseOut:e=>{if(!isLoading){e.target.style.transform='translateY(0px)';e.target.style.boxShadow='0 3px 10px rgba(139, 92, 246, 0.3)';}},children:\"\\uD83E\\uDD16 Gemini\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNotesAction,disabled:isLoading,title:\"Prise de notes biblique\",style:{background:'linear-gradient(135deg, #10b981, #059669)',border:'none',borderRadius:'10px',color:'white',padding:'8px 14px',fontSize:'12px',fontWeight:'600',cursor:isLoading?'not-allowed':'pointer',transition:'all 0.3s ease',boxShadow:'0 3px 10px rgba(16, 185, 129, 0.3)',fontFamily:'Montserrat, sans-serif',textAlign:'center',opacity:isLoading?0.6:1},onMouseOver:e=>{if(!isLoading){e.target.style.transform='translateY(-1px)';e.target.style.boxShadow='0 4px 15px rgba(16, 185, 129, 0.4)';}},onMouseOut:e=>{if(!isLoading){e.target.style.transform='translateY(0px)';e.target.style.boxShadow='0 3px 10px rgba(16, 185, 129, 0.3)';}},children:\"\\uD83D\\uDCDD Prise de Note\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleChatGPTAction,disabled:isLoading,title:\"Consultation ChatGPT\",style:{background:'linear-gradient(135deg, #f59e0b, #d97706)',border:'none',borderRadius:'10px',color:'white',padding:'8px 14px',fontSize:'12px',fontWeight:'600',cursor:isLoading?'not-allowed':'pointer',transition:'all 0.3s ease',boxShadow:'0 3px 10px rgba(245, 158, 11, 0.3)',fontFamily:'Montserrat, sans-serif',textAlign:'center',opacity:isLoading?0.6:1},onMouseOver:e=>{if(!isLoading){e.target.style.transform='translateY(-1px)';e.target.style.boxShadow='0 4px 15px rgba(245, 158, 11, 0.4)';}},onMouseOut:e=>{if(!isLoading){e.target.style.transform='translateY(0px)';e.target.style.boxShadow='0 3px 10px rgba(245, 158, 11, 0.3)';}},children:\"\\uD83D\\uDCAC ChatGPT\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleBibleAction,disabled:isLoading,title:\"Consultation rapide Bible\",style:{background:'linear-gradient(135deg, #3b82f6, #2563eb)',border:'none',borderRadius:'10px',color:'white',padding:'8px 14px',fontSize:'12px',fontWeight:'600',cursor:isLoading?'not-allowed':'pointer',transition:'all 0.3s ease',boxShadow:'0 3px 10px rgba(59, 130, 246, 0.3)',fontFamily:'Montserrat, sans-serif',textAlign:'center',opacity:isLoading?0.6:1},onMouseOver:e=>{if(!isLoading){e.target.style.transform='translateY(-1px)';e.target.style.boxShadow='0 4px 15px rgba(59, 130, 246, 0.4)';}},onMouseOut:e=>{if(!isLoading){e.target.style.transform='translateY(0px)';e.target.style.boxShadow='0 3px 10px rgba(59, 130, 246, 0.3)';}},children:\"\\uD83D\\uDCD6 Lire la Bible\"}),/*#__PURE__*/_jsx(ApiControlPanel,{backendUrl:process.env.REACT_APP_BACKEND_URL||window.location.origin})]})]}),bookInfo&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'clamp(0.9rem, 3vw, 1rem)',textAlign:'center',opacity:0.8,fontWeight:'400'},children:bookInfo})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'900px',margin:'0 auto',padding:'20px'},children:[content&&content.trim().length>0?/*#__PURE__*/_jsx(\"div\",{style:{background:'white',borderRadius:'16px',padding:'clamp(20px, 5vw, 40px)',boxShadow:'0 8px 32px rgba(0, 0, 0, 0.08)',border:'1px solid rgba(226, 232, 240, 0.8)',lineHeight:'1.7',fontSize:'clamp(15px, 4vw, 16px)',marginBottom:'20px'},children:/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:\"<p>\".concat(formatRubriqueContent(content),\"</p>\")},style:{color:'#374151'}})}):/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'20px',padding:'clamp(40px, 8vw, 60px)',textAlign:'center',boxShadow:'0 12px 40px rgba(0, 0, 0, 0.08)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'clamp(3rem, 8vw, 4rem)',marginBottom:'20px'},children:\"\\u26A1\"}),/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'clamp(1.5rem, 5vw, 2rem)',color:'#1f2937',marginBottom:'16px',fontWeight:'700'},children:\"G\\xE9n\\xE9ration en cours...\"}),/*#__PURE__*/_jsxs(\"p\",{style:{color:'#6b7280',fontSize:'clamp(1rem, 3vw, 1.1rem)',maxWidth:'500px',margin:'0 auto',lineHeight:'1.6'},children:[\"\\uD83D\\uDD04 G\\xE9n\\xE9ration automatique du contenu th\\xE9ologique pour \\\"\",rubriqueTitle,\"\\\"...\"]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'20px',fontSize:'12px',color:'#9ca3af'},children:\"\\u2728 Votre contenu authentique sera disponible dans quelques instants\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'15px',marginTop:'30px',justifyContent:'center',flexWrap:'wrap'},children:[rubriqueNumber>1&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onNavigateToRubrique(rubriqueNumber-1),style:{background:'linear-gradient(135deg, #6b7280 0%, #4b5563 100%)',color:'white',border:'none',padding:'clamp(12px, 3vw, 16px) clamp(20px, 5vw, 32px)',borderRadius:'12px',fontSize:'clamp(14px, 3.5vw, 16px)',fontWeight:'600',cursor:'pointer',transition:'all 0.3s ease',boxShadow:'0 4px 16px rgba(107, 114, 128, 0.25)',minWidth:'160px'},onMouseOver:e=>{e.target.style.transform='translateY(-2px)';e.target.style.boxShadow='0 6px 24px rgba(107, 114, 128, 0.35)';},onMouseOut:e=>{e.target.style.transform='translateY(0)';e.target.style.boxShadow='0 4px 16px rgba(107, 114, 128, 0.25)';},children:[\"\\u25C0 Rubrique \",rubriqueNumber-1]}),rubriqueNumber<28&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onNavigateToRubrique(rubriqueNumber+1),style:{background:\"linear-gradient(135deg, \".concat(rubriqueColor.start,\" 0%, \").concat(rubriqueColor.end,\" 100%)\"),color:'white',border:'none',padding:'clamp(12px, 3vw, 16px) clamp(20px, 5vw, 32px)',borderRadius:'12px',fontSize:'clamp(14px, 3.5vw, 16px)',fontWeight:'600',cursor:'pointer',transition:'all 0.3s ease',boxShadow:\"0 4px 16px \".concat(rubriqueColor.start,\"40\"),minWidth:'160px'},onMouseOver:e=>{e.target.style.transform='translateY(-2px)';e.target.style.boxShadow=\"0 6px 24px \".concat(rubriqueColor.start,\"50\");},onMouseOut:e=>{e.target.style.transform='translateY(0)';e.target.style.boxShadow=\"0 4px 16px \".concat(rubriqueColor.start,\"40\");},children:[\"Rubrique \",rubriqueNumber+1,\" \\u25B6\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginTop:'20px',fontSize:'clamp(12px, 3vw, 14px)',color:'#6b7280'},children:[\"\\uD83D\\uDCCB Rubrique \",rubriqueNumber,\" sur 28 \\u2022 \\xC9tude compl\\xE8te en 28 points\"]})]}),isApiModalOpen&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(0, 0, 0, 0.5)',zIndex:1000,display:'flex',justifyContent:'center',alignItems:'center',padding:'20px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(255, 255, 255, 0.95)',backdropFilter:'blur(10px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'24px',minWidth:'400px',maxWidth:'600px',maxHeight:'80vh',overflowY:'auto',boxShadow:'0 20px 40px rgba(0,0,0,0.15)',position:'relative'},children:[/*#__PURE__*/_jsx(\"style\",{children:\"\\n                @keyframes pulse-led {\\n                  0% { \\n                    box-shadow: 0 0 8px currentColor; \\n                    opacity: 1; \\n                    transform: scale(1);\\n                  }\\n                  50% { \\n                    box-shadow: 0 0 20px currentColor, 0 0 40px currentColor; \\n                    opacity: 0.4; \\n                    transform: scale(1.2);\\n                  }\\n                }\\n              \"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'20px',borderBottom:'1px solid rgba(0,0,0,0.1)',paddingBottom:'16px'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:0,color:'#333',fontSize:'18px',fontWeight:'bold',display:'flex',alignItems:'center',gap:'8px'},children:[\"\\uD83D\\uDD27 API Status - Rubrique \",rubriqueNumber]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsApiModalOpen(false),style:{background:'none',border:'none',fontSize:'24px',cursor:'pointer',color:'#999',padding:'4px',borderRadius:'4px',transition:'color 0.3s ease'},onMouseOver:e=>e.target.style.color='#333',onMouseOut:e=>e.target.style.color='#999',children:\"\\u2715\"})]}),apiStatus?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsxs(\"h4\",{style:{margin:'0 0 12px 0',color:'#666',fontSize:'14px',fontWeight:'600',textTransform:'uppercase',letterSpacing:'0.5px'},children:[\"\\xC9tat des APIs (\",Object.keys(apiStatus.apis).length,\" APIs configur\\xE9es)\"]}),Object.entries(apiStatus.apis).map(_ref2=>{let[key,api]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'14px',marginBottom:'8px',background:api.color==='green'?'rgba(0, 255, 0, 0.08)':'rgba(255, 0, 0, 0.08)',border:\"2px solid \".concat(api.color==='green'?'rgba(0, 255, 0, 0.3)':'rgba(255, 0, 0, 0.3)'),borderRadius:'10px',transition:'all 0.3s ease',boxShadow:\"0 2px 8px \".concat(api.color==='green'?'rgba(0, 255, 0, 0.1)':'rgba(255, 0, 0, 0.1)')},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',marginBottom:'4px'},children:[/*#__PURE__*/_jsx(\"div\",{style:ledStyle(getLedColor(api))}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'bold',color:'#333',marginRight:'12px',fontSize:'14px'},children:api.name}),key===apiStatus.active_api&&/*#__PURE__*/_jsx(\"span\",{style:{background:'linear-gradient(135deg, #4CAF50, #45a049)',color:'white',padding:'2px 10px',borderRadius:'12px',fontSize:'10px',fontWeight:'bold',textTransform:'uppercase'},children:\"ACTIVE\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'11px',color:'#666',marginLeft:'22px',display:'flex',alignItems:'center',gap:'12px'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u2705 \",api.success_count,\" succ\\xE8s\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u274C \",api.error_count,\" \\xE9checs\"]}),api.last_used&&/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDD52 \",new Date(api.last_used).toLocaleTimeString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:api.color==='green'?'#4CAF50':'#f44336',fontWeight:'bold',textTransform:'uppercase'},children:api.status==='available'?'Disponible':'Quota Dépassé'}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'18px'},children:getStatusIcon(api)})]})]},key);})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(55, 66, 250, 0.05)',border:'1px solid rgba(55, 66, 250, 0.2)',borderRadius:'10px',padding:'16px',marginBottom:'16px'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:'0 0 8px 0',color:'#3742fa',fontSize:'13px',fontWeight:'bold'},children:\"\\uD83D\\uDCCA Statistiques Globales\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#666',display:'flex',flexWrap:'wrap',gap:'16px'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDD04 API Active: \",apiStatus.active_api||'Aucune']}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u26A1 Fallback: \",apiStatus.fallback_active?'Activé':'Disponible']}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83C\\uDFAF Contexte: Rubrique \",rubriqueNumber,\" - \",rubriqueTitle]})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:'16px'},children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{fetchApiStatus();fetchApiHistory();},style:{background:'linear-gradient(135deg, #3742fa, #2f3542)',color:'white',border:'none',padding:'10px 20px',borderRadius:'8px',fontSize:'12px',fontWeight:'600',cursor:'pointer',transition:'all 0.3s ease'},children:\"\\uD83D\\uDD04 Actualiser\"})})]}):/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'40px 20px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'24px',marginBottom:'12px'},children:\"\\u2699\\uFE0F\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',margin:0},children:\"Chargement du statut des APIs...\"})]})]})})]});};export default RubriquePage;","map":{"version":3,"names":["React","ApiControlPanel","jsx","_jsx","jsxs","_jsxs","RubriquePage","_ref","onGoBack","rubriqueNumber","rubriqueTitle","content","bookInfo","onNavigateToRubrique","selectedBook","selectedChapter","selectedVerse","selectedLength","setCurrentPage","API_BASE","setContent","setRubriquesStatus","setIsLoading","isLoading","BASE_RUBRIQUES","console","log","concat","length","slice","isApiModalOpen","setIsApiModalOpen","useState","apiStatus","setApiStatus","apiHistory","setApiHistory","fetchApiStatus","response","fetch","ok","status","json","error","fetchApiHistory","history","useEffect","getLedColor","api","color","ledStyle","width","height","borderRadius","backgroundColor","marginRight","boxShadow","animation","getStatusIcon","handleGeminiAction","warn","p","_objectSpread","passage","enrichedLength","Math","min","parseInt","method","headers","body","JSON","stringify","tokens","use_gemini","enriched","rubrique_context","data","enrichedContent","Error","err","message","handleChatGPTAction","window","open","handleNotesAction","handleApiAction","handleBibleAction","alert","bookCodes","code","url","getRubriqueColor","number","colors","start","end","name","default","rubriqueColor","formatRubriqueContent","replace","style","minHeight","background","fontFamily","children","padding","position","top","zIndex","overflow","left","right","bottom","pointerEvents","maxWidth","margin","onClick","border","cursor","fontSize","fontWeight","marginBottom","backdropFilter","transition","onMouseOver","e","target","transform","onMouseOut","display","alignItems","justifyContent","gap","flexWrap","flex","minWidth","textAlign","textShadow","opacity","disabled","title","backendUrl","process","env","REACT_APP_BACKEND_URL","location","origin","trim","lineHeight","dangerouslySetInnerHTML","__html","marginTop","maxHeight","overflowY","borderBottom","paddingBottom","textTransform","letterSpacing","Object","keys","apis","entries","map","_ref2","key","flexDirection","active_api","marginLeft","success_count","error_count","last_used","Date","toLocaleTimeString","fallback_active"],"sources":["/app/src/RubriquePage.js"],"sourcesContent":["import React from 'react';\nimport ApiControlPanel from './ApiControlPanel';\n\nconst RubriquePage = ({ \n  onGoBack, \n  rubriqueNumber, \n  rubriqueTitle, \n  content, \n  bookInfo,\n  onNavigateToRubrique,\n  // Nouvelles props pour les boutons fonctionnels\n  selectedBook = \"Genèse\",\n  selectedChapter = \"1\",\n  selectedVerse = \"--\",\n  selectedLength = 500,\n  setCurrentPage,\n  API_BASE,\n  setContent,\n  setRubriquesStatus,\n  setIsLoading,\n  isLoading = false,\n  BASE_RUBRIQUES = []\n}) => {\n  \n  // Debug: Afficher le contenu reçu\n  console.log(`[RUBRIQUE PAGE DEBUG] Rubrique ${rubriqueNumber}:`);\n  console.log(`[RUBRIQUE PAGE DEBUG] Content type:`, typeof content);\n  console.log(`[RUBRIQUE PAGE DEBUG] Content length:`, content ? content.length : 0);\n  console.log(`[RUBRIQUE PAGE DEBUG] Content preview:`, content ? content.slice(0, 100) + \"...\" : \"VIDE\");\n  console.log(`[RUBRIQUE PAGE DEBUG] Content truthy:`, !!content);\n\n  // État pour le modal API\n  const [isApiModalOpen, setIsApiModalOpen] = React.useState(false);\n  const [apiStatus, setApiStatus] = React.useState(null);\n  const [apiHistory, setApiHistory] = React.useState(null);\n\n  // Fonctions pour gérer le modal API\n  const fetchApiStatus = async () => {\n    if (!API_BASE) return;\n    try {\n      const response = await fetch(`${API_BASE}/api-status`);\n      if (response.ok) {\n        const status = await response.json();\n        setApiStatus(status);\n        console.log('[RUBRIQUE API] Statut récupéré:', status);\n      }\n    } catch (error) {\n      console.error('[RUBRIQUE API] Erreur statut:', error);\n    }\n  };\n\n  const fetchApiHistory = async () => {\n    if (!API_BASE) return;\n    try {\n      const response = await fetch(`${API_BASE}/api-history`);\n      if (response.ok) {\n        const history = await response.json();\n        setApiHistory(history);\n        console.log('[RUBRIQUE API] Historique récupéré:', history);\n      }\n    } catch (error) {\n      console.error('[RUBRIQUE API] Erreur historique:', error);\n    }\n  };\n\n  // Charger les données API au montage du composant\n  React.useEffect(() => {\n    if (isApiModalOpen) {\n      fetchApiStatus();\n      fetchApiHistory();\n    }\n  }, [isApiModalOpen, API_BASE]);\n\n  // Fonctions utilitaires pour l'affichage API\n  const getLedColor = (api) => {\n    return api.color === 'green' ? '#00ff00' : '#ff0000';\n  };\n\n  const ledStyle = (color) => ({\n    width: '10px',\n    height: '10px',\n    borderRadius: '50%',\n    backgroundColor: color,\n    marginRight: '12px',\n    boxShadow: `0 0 8px ${color}`,\n    animation: 'pulse-led 2s infinite ease-in-out'\n  });\n\n  const getStatusIcon = (api) => {\n    return api.color === 'green' ? '✅' : '❌';\n  };\n\n  // Fonctions de gestion des boutons - COPIÉES DE LA PAGE PRINCIPALE\n\n  // 1. Fonction Gemini (copiée de App.js)\n  const handleGeminiAction = async () => {\n    if (!API_BASE || !setContent || !setRubriquesStatus || !setIsLoading) {\n      console.warn(\"[RUBRIQUE] API functions not available\");\n      return;\n    }\n\n    try {\n      setIsLoading(true); \n      setContent(\"Enrichissement théologique avec votre Gemini gratuit en cours...\");\n      setRubriquesStatus(p => ({ ...p, [rubriqueNumber]: \"in-progress\" }));\n\n      const passage = (selectedVerse === \"--\" || selectedVerse === \"vide\")\n        ? `${selectedBook} ${selectedChapter}`\n        : `${selectedBook} ${selectedChapter}:${selectedVerse}`;\n\n      // Enrichir théologiquement avec votre clé Gemini gratuite\n      if (rubriqueNumber >= 1 && rubriqueNumber <= 28) {\n        const rubriqueTitle = BASE_RUBRIQUES[rubriqueNumber] || `Rubrique ${rubriqueNumber}`;\n        \n        // Générer un enrichissement théologique avec longueur augmentée\n        const enrichedLength = Math.min(2000, parseInt(selectedLength) + 500);\n        console.log(`[ENRICHISSEMENT GEMINI GRATUIT] Rubrique ${rubriqueNumber} - Longueur enrichie: ${enrichedLength} caractères`);\n        \n        // Appeler votre backend avec votre clé Gemini gratuite\n        const response = await fetch(`${API_BASE}/generate-verse-by-verse`, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            passage: passage,\n            tokens: enrichedLength,\n            use_gemini: true,\n            enriched: true,\n            rubrique_context: rubriqueTitle\n          })\n        });\n\n        if (response.ok) {\n          const data = await response.json();\n          const enrichedContent = data.content || \"Contenu enrichi non disponible\";\n          \n          console.log(`[ENRICHISSEMENT GEMINI GRATUIT] Contenu enrichi reçu: ${enrichedContent.length} caractères`);\n          setContent(enrichedContent);\n          setRubriquesStatus(p => ({ ...p, [rubriqueNumber]: \"completed\" }));\n        } else {\n          throw new Error(`Erreur API: ${response.status}`);\n        }\n      }\n    } catch (err) {\n      console.error(\"Erreur enrichissement Gemini:\", err);\n      setContent(`Erreur lors de l'enrichissement Gemini: ${err.message}`);\n      setRubriquesStatus(p => ({ ...p, [rubriqueNumber]: \"error\" }));\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // 2. Fonction ChatGPT (copiée de App.js)\n  const handleChatGPTAction = () => {\n    window.open('https://chatgpt.com/', '_blank');\n  };\n\n  // 3. Fonction Notes (copiée de App.js)  \n  const handleNotesAction = () => {\n    if (setCurrentPage) {\n      setCurrentPage('notes');\n    } else {\n      console.warn(\"[RUBRIQUE] setCurrentPage not available\");\n    }\n  };\n\n  // 4. Fonction API Control Panel (basée sur ApiControlPanel)\n  const handleApiAction = () => {\n    console.log('[CONTROL BUTTON] API button clicked for Rubrique', rubriqueNumber);\n    setIsApiModalOpen(true);\n  };\n\n  // 5. Nouvelle fonction \"Lire la Bible\" (copiée de App.js)\n  const handleBibleAction = () => {\n    if (selectedBook === \"--\") {\n      alert(\"Veuillez d'abord sélectionner un livre de la Bible\");\n      return;\n    }\n    \n    const bookCodes = {\n      \"Genèse\":\"GEN\",\"Exode\":\"EXO\",\"Lévitique\":\"LEV\",\"Nombres\":\"NUM\",\"Deutéronome\":\"DEU\",\n      \"Josué\":\"JOS\",\"Juges\":\"JDG\",\"Ruth\":\"RUT\",\"1 Samuel\":\"1SA\",\"2 Samuel\":\"2SA\",\n      \"1 Rois\":\"1KI\",\"2 Rois\":\"2KI\",\"1 Chroniques\":\"1CH\",\"2 Chroniques\":\"2CH\",\n      \"Esdras\":\"EZR\",\"Néhémie\":\"NEH\",\"Esther\":\"EST\",\"Job\":\"JOB\",\"Psaumes\":\"PSA\",\n      \"Proverbes\":\"PRO\",\"Ecclésiaste\":\"ECC\",\"Cantique des cantiques\":\"SNG\",\n      \"Ésaïe\":\"ISA\",\"Jérémie\":\"JER\",\"Lamentations\":\"LAM\",\"Ézéchiel\":\"EZK\",\"Daniel\":\"DAN\",\n      \"Osée\":\"HOS\",\"Joël\":\"JOL\",\"Amos\":\"AMO\",\"Abdias\":\"OBA\",\"Jonas\":\"JON\",\"Michée\":\"MIC\",\n      \"Nahum\":\"NAM\",\"Habacuc\":\"HAB\",\"Sophonie\":\"ZEP\",\"Aggée\":\"HAG\",\"Zacharie\":\"ZEC\",\"Malachie\":\"MAL\",\n      \"Matthieu\":\"MAT\",\"Marc\":\"MRK\",\"Luc\":\"LUK\",\"Jean\":\"JHN\",\"Actes\":\"ACT\",\n      \"Romains\":\"ROM\",\"1 Corinthiens\":\"1CO\",\"2 Corinthiens\":\"2CO\",\"Galates\":\"GAL\",\n      \"Éphésiens\":\"EPH\",\"Philippiens\":\"PHP\",\"Colossiens\":\"COL\",\"1 Thessaloniciens\":\"1TH\",\n      \"2 Thessaloniciens\":\"2TH\",\"1 Timothée\":\"1TI\",\"2 Timothée\":\"2TI\",\"Tite\":\"TIT\",\n      \"Philémon\":\"PHM\",\"Hébreux\":\"HEB\",\"Jacques\":\"JAS\",\"1 Pierre\":\"1PE\",\"2 Pierre\":\"2PE\",\n      \"1 Jean\":\"1JN\",\"2 Jean\":\"2JN\",\"3 Jean\":\"3JN\",\"Jude\":\"JUD\",\"Apocalypse\":\"REV\"\n    };\n    \n    const code = bookCodes[selectedBook]; \n    if (!code) {\n      alert(\"Livre non reconnu pour YouVersion\");\n      return;\n    }\n    \n    let url = `https://www.bible.com/fr/bible/63/${code}`;\n    if (selectedChapter !== \"--\") { \n      url += `.${selectedChapter}`; \n      if (selectedVerse !== \"--\") url += `.${selectedVerse}`; \n    }\n    window.open(url, \"_blank\");\n  };\n  \n  const getRubriqueColor = (number) => {\n    // Couleurs variées pour les différentes rubriques\n    const colors = {\n      1: { start: '#8b5cf6', end: '#7c3aed', name: 'Violet' },\n      2: { start: '#3b82f6', end: '#2563eb', name: 'Bleu' },\n      3: { start: '#10b981', end: '#059669', name: 'Vert' },\n      4: { start: '#f59e0b', end: '#d97706', name: 'Orange' },\n      5: { start: '#ef4444', end: '#dc2626', name: 'Rouge' },\n      6: { start: '#8b5cf6', end: '#7c3aed', name: 'Violet' },\n      7: { start: '#06b6d4', end: '#0891b2', name: 'Cyan' },\n      8: { start: '#84cc16', end: '#65a30d', name: 'Lime' },\n      9: { start: '#f97316', end: '#ea580c', name: 'Orange' },\n      10: { start: '#ec4899', end: '#db2777', name: 'Rose' },\n      // Cycle pour les rubriques suivantes\n      default: { start: '#6b7280', end: '#4b5563', name: 'Gris' }\n    };\n    \n    return colors[number] || colors[((number - 1) % 10) + 1] || colors.default;\n  };\n\n  const rubriqueColor = getRubriqueColor(rubriqueNumber);\n\n  const formatRubriqueContent = (content) => {\n    if (!content) return '';\n    \n    // Formatage simple pour le contenu des rubriques\n    return content\n      .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n      .replace(/\\n\\n/g, '</p><p>')\n      .replace(/\\n/g, '<br/>');\n  };\n\n  return (\n    <div style={{\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, rgba(248, 250, 252, 0.98) 0%, rgba(241, 245, 249, 0.95) 50%, rgba(248, 250, 252, 0.98) 100%)',\n      fontFamily: 'Inter, -apple-system, BlinkMacSystemFont, sans-serif'\n    }}>\n      {/* En-tête coloré selon la rubrique */}\n      <div style={{\n        background: `linear-gradient(135deg, ${rubriqueColor.start} 0%, ${rubriqueColor.end} 100%)`,\n        color: 'white',\n        padding: '30px 20px',\n        boxShadow: `0 8px 32px ${rubriqueColor.start}40`,\n        position: 'sticky',\n        top: 0,\n        zIndex: 100,\n        overflow: 'hidden'\n      }}>\n        <div style={{\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'linear-gradient(45deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(255, 255, 255, 0.05) 100%)',\n          pointerEvents: 'none'\n        }}></div>\n        \n        <div style={{\n          maxWidth: '900px',\n          margin: '0 auto',\n          position: 'relative',\n          zIndex: 10\n        }}>\n          <button \n            onClick={onGoBack}\n            style={{\n              background: 'rgba(255, 255, 255, 0.2)',\n              border: '1px solid rgba(255, 255, 255, 0.3)',\n              color: 'white',\n              padding: '10px 20px',\n              borderRadius: '12px',\n              cursor: 'pointer',\n              fontSize: '14px',\n              fontWeight: '600',\n              marginBottom: '20px',\n              backdropFilter: 'blur(10px)',\n              transition: 'all 0.3s ease'\n            }}\n            onMouseOver={(e) => {\n              e.target.style.background = 'rgba(255, 255, 255, 0.3)';\n              e.target.style.transform = 'translateY(-2px)';\n            }}\n            onMouseOut={(e) => {\n              e.target.style.background = 'rgba(255, 255, 255, 0.2)';\n              e.target.style.transform = 'translateY(0)';\n            }}\n          >\n            ← Retour à l'Étude\n          </button>\n          \n          {/* Titre et boutons de contrôle */}\n          <div style={{\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'space-between',\n            gap: '20px',\n            marginBottom: '20px',\n            flexWrap: 'wrap'\n          }}>\n            <div style={{ flex: 1, minWidth: '300px' }}>\n              <h1 style={{\n                fontSize: 'clamp(1.8rem, 4vw, 2.5rem)',\n                fontWeight: '800',\n                margin: '0 0 8px 0',\n                textAlign: 'center',\n                textShadow: '0 2px 8px rgba(0, 0, 0, 0.1)'\n              }}>\n                📋 Rubrique {rubriqueNumber}\n              </h1>\n              \n              <div style={{\n                fontSize: 'clamp(1rem, 3vw, 1.2rem)',\n                textAlign: 'center',\n                opacity: 0.9,\n                fontWeight: '500'\n              }}>\n                {rubriqueTitle}\n              </div>\n            </div>\n\n            {/* 5 boutons de contrôle - disposition améliorée */}\n            <div style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '12px',\n              flexWrap: 'wrap',\n              justifyContent: 'center'\n            }}>\n              {/* Bouton Gemini */}\n              <button \n                onClick={handleGeminiAction}\n                disabled={isLoading}\n                title=\"Enrichissement théologique avec Gemini\"\n                style={{\n                  background: 'linear-gradient(135deg, #8b5cf6, #7c3aed)',\n                  border: 'none',\n                  borderRadius: '10px',\n                  color: 'white',\n                  padding: '8px 14px',\n                  fontSize: '12px',\n                  fontWeight: '600',\n                  cursor: isLoading ? 'not-allowed' : 'pointer',\n                  transition: 'all 0.3s ease',\n                  boxShadow: '0 3px 10px rgba(139, 92, 246, 0.3)',\n                  fontFamily: 'Montserrat, sans-serif',\n                  textAlign: 'center',\n                  opacity: isLoading ? 0.6 : 1\n                }}\n                onMouseOver={(e) => {\n                  if (!isLoading) {\n                    e.target.style.transform = 'translateY(-1px)';\n                    e.target.style.boxShadow = '0 4px 15px rgba(139, 92, 246, 0.4)';\n                  }\n                }}\n                onMouseOut={(e) => {\n                  if (!isLoading) {\n                    e.target.style.transform = 'translateY(0px)';\n                    e.target.style.boxShadow = '0 3px 10px rgba(139, 92, 246, 0.3)';\n                  }\n                }}\n              >\n                🤖 Gemini\n              </button>\n\n              {/* Bouton Prise de Note */}\n              <button \n                onClick={handleNotesAction}\n                disabled={isLoading}\n                title=\"Prise de notes biblique\"\n                style={{\n                  background: 'linear-gradient(135deg, #10b981, #059669)',\n                  border: 'none',\n                  borderRadius: '10px',\n                  color: 'white',\n                  padding: '8px 14px',\n                  fontSize: '12px',\n                  fontWeight: '600',\n                  cursor: isLoading ? 'not-allowed' : 'pointer',\n                  transition: 'all 0.3s ease',\n                  boxShadow: '0 3px 10px rgba(16, 185, 129, 0.3)',\n                  fontFamily: 'Montserrat, sans-serif',\n                  textAlign: 'center',\n                  opacity: isLoading ? 0.6 : 1\n                }}\n                onMouseOver={(e) => {\n                  if (!isLoading) {\n                    e.target.style.transform = 'translateY(-1px)';\n                    e.target.style.boxShadow = '0 4px 15px rgba(16, 185, 129, 0.4)';\n                  }\n                }}\n                onMouseOut={(e) => {\n                  if (!isLoading) {\n                    e.target.style.transform = 'translateY(0px)';\n                    e.target.style.boxShadow = '0 3px 10px rgba(16, 185, 129, 0.3)';\n                  }\n                }}\n              >\n                📝 Prise de Note\n              </button>\n\n              {/* Bouton ChatGPT */}\n              <button \n                onClick={handleChatGPTAction}\n                disabled={isLoading}\n                title=\"Consultation ChatGPT\"\n                style={{\n                  background: 'linear-gradient(135deg, #f59e0b, #d97706)',\n                  border: 'none',\n                  borderRadius: '10px',\n                  color: 'white',\n                  padding: '8px 14px',\n                  fontSize: '12px',\n                  fontWeight: '600',\n                  cursor: isLoading ? 'not-allowed' : 'pointer',\n                  transition: 'all 0.3s ease',\n                  boxShadow: '0 3px 10px rgba(245, 158, 11, 0.3)',\n                  fontFamily: 'Montserrat, sans-serif',\n                  textAlign: 'center',\n                  opacity: isLoading ? 0.6 : 1\n                }}\n                onMouseOver={(e) => {\n                  if (!isLoading) {\n                    e.target.style.transform = 'translateY(-1px)';\n                    e.target.style.boxShadow = '0 4px 15px rgba(245, 158, 11, 0.4)';\n                  }\n                }}\n                onMouseOut={(e) => {\n                  if (!isLoading) {\n                    e.target.style.transform = 'translateY(0px)';\n                    e.target.style.boxShadow = '0 3px 10px rgba(245, 158, 11, 0.3)';\n                  }\n                }}\n              >\n                💬 ChatGPT\n              </button>\n\n              {/* Bouton Lire la Bible */}\n              <button \n                onClick={handleBibleAction}\n                disabled={isLoading}\n                title=\"Consultation rapide Bible\"\n                style={{\n                  background: 'linear-gradient(135deg, #3b82f6, #2563eb)',\n                  border: 'none',\n                  borderRadius: '10px',\n                  color: 'white',\n                  padding: '8px 14px',\n                  fontSize: '12px',\n                  fontWeight: '600',\n                  cursor: isLoading ? 'not-allowed' : 'pointer',\n                  transition: 'all 0.3s ease',\n                  boxShadow: '0 3px 10px rgba(59, 130, 246, 0.3)',\n                  fontFamily: 'Montserrat, sans-serif',\n                  textAlign: 'center',\n                  opacity: isLoading ? 0.6 : 1\n                }}\n                onMouseOver={(e) => {\n                  if (!isLoading) {\n                    e.target.style.transform = 'translateY(-1px)';\n                    e.target.style.boxShadow = '0 4px 15px rgba(59, 130, 246, 0.4)';\n                  }\n                }}\n                onMouseOut={(e) => {\n                  if (!isLoading) {\n                    e.target.style.transform = 'translateY(0px)';\n                    e.target.style.boxShadow = '0 3px 10px rgba(59, 130, 246, 0.3)';\n                  }\n                }}\n              >\n                📖 Lire la Bible\n              </button>\n\n              {/* Composant API complet avec LEDs */}\n              <ApiControlPanel backendUrl={process.env.REACT_APP_BACKEND_URL || window.location.origin} />\n            </div>\n          </div>\n\n          {bookInfo && (\n            <div style={{\n              fontSize: 'clamp(0.9rem, 3vw, 1rem)',\n              textAlign: 'center',\n              opacity: 0.8,\n              fontWeight: '400'\n            }}>\n              {bookInfo}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Contenu principal */}\n      <div style={{\n        maxWidth: '900px',\n        margin: '0 auto',\n        padding: '20px'\n      }}>\n        {content && content.trim().length > 0 ? (\n          <div style={{\n            background: 'white',\n            borderRadius: '16px',\n            padding: 'clamp(20px, 5vw, 40px)',\n            boxShadow: '0 8px 32px rgba(0, 0, 0, 0.08)',\n            border: '1px solid rgba(226, 232, 240, 0.8)',\n            lineHeight: '1.7',\n            fontSize: 'clamp(15px, 4vw, 16px)',\n            marginBottom: '20px'\n          }}>\n            <div \n              dangerouslySetInnerHTML={{ __html: `<p>${formatRubriqueContent(content)}</p>` }}\n              style={{ color: '#374151' }}\n            />\n          </div>\n        ) : (\n          <div style={{\n            background: 'white',\n            borderRadius: '20px',\n            padding: 'clamp(40px, 8vw, 60px)',\n            textAlign: 'center',\n            boxShadow: '0 12px 40px rgba(0, 0, 0, 0.08)'\n          }}>\n            <div style={{\n              fontSize: 'clamp(3rem, 8vw, 4rem)',\n              marginBottom: '20px'\n            }}>⚡</div>\n            <h2 style={{\n              fontSize: 'clamp(1.5rem, 5vw, 2rem)',\n              color: '#1f2937',\n              marginBottom: '16px',\n              fontWeight: '700'\n            }}>\n              Génération en cours...\n            </h2>\n            <p style={{\n              color: '#6b7280',\n              fontSize: 'clamp(1rem, 3vw, 1.1rem)',\n              maxWidth: '500px',\n              margin: '0 auto',\n              lineHeight: '1.6'\n            }}>\n              🔄 Génération automatique du contenu théologique pour \"{rubriqueTitle}\"...\n            </p>\n            <div style={{\n              marginTop: '20px',\n              fontSize: '12px',\n              color: '#9ca3af'\n            }}>\n              ✨ Votre contenu authentique sera disponible dans quelques instants\n            </div>\n          </div>\n        )}\n\n        {/* Navigation entre rubriques */}\n        <div style={{\n          display: 'flex',\n          gap: '15px',\n          marginTop: '30px',\n          justifyContent: 'center',\n          flexWrap: 'wrap'\n        }}>\n          {/* Bouton Précédent */}\n          {rubriqueNumber > 1 && (\n            <button\n              onClick={() => onNavigateToRubrique(rubriqueNumber - 1)}\n              style={{\n                background: 'linear-gradient(135deg, #6b7280 0%, #4b5563 100%)',\n                color: 'white',\n                border: 'none',\n                padding: 'clamp(12px, 3vw, 16px) clamp(20px, 5vw, 32px)',\n                borderRadius: '12px',\n                fontSize: 'clamp(14px, 3.5vw, 16px)',\n                fontWeight: '600',\n                cursor: 'pointer',\n                transition: 'all 0.3s ease',\n                boxShadow: '0 4px 16px rgba(107, 114, 128, 0.25)',\n                minWidth: '160px'\n              }}\n              onMouseOver={(e) => {\n                e.target.style.transform = 'translateY(-2px)';\n                e.target.style.boxShadow = '0 6px 24px rgba(107, 114, 128, 0.35)';\n              }}\n              onMouseOut={(e) => {\n                e.target.style.transform = 'translateY(0)';\n                e.target.style.boxShadow = '0 4px 16px rgba(107, 114, 128, 0.25)';\n              }}\n            >\n              ◀ Rubrique {rubriqueNumber - 1}\n            </button>\n          )}\n\n          {/* Bouton Suivant */}\n          {rubriqueNumber < 28 && (\n            <button\n              onClick={() => onNavigateToRubrique(rubriqueNumber + 1)}\n              style={{\n                background: `linear-gradient(135deg, ${rubriqueColor.start} 0%, ${rubriqueColor.end} 100%)`,\n                color: 'white',\n                border: 'none',\n                padding: 'clamp(12px, 3vw, 16px) clamp(20px, 5vw, 32px)',\n                borderRadius: '12px',\n                fontSize: 'clamp(14px, 3.5vw, 16px)',\n                fontWeight: '600',\n                cursor: 'pointer',\n                transition: 'all 0.3s ease',\n                boxShadow: `0 4px 16px ${rubriqueColor.start}40`,\n                minWidth: '160px'\n              }}\n              onMouseOver={(e) => {\n                e.target.style.transform = 'translateY(-2px)';\n                e.target.style.boxShadow = `0 6px 24px ${rubriqueColor.start}50`;\n              }}\n              onMouseOut={(e) => {\n                e.target.style.transform = 'translateY(0)';\n                e.target.style.boxShadow = `0 4px 16px ${rubriqueColor.start}40`;\n              }}\n            >\n              Rubrique {rubriqueNumber + 1} ▶\n            </button>\n          )}\n        </div>\n\n        {/* Indicateur de position */}\n        <div style={{\n          textAlign: 'center',\n          marginTop: '20px',\n          fontSize: 'clamp(12px, 3vw, 14px)',\n          color: '#6b7280'\n        }}>\n          📋 Rubrique {rubriqueNumber} sur 28 • Étude complète en 28 points\n        </div>\n      </div>\n\n      {/* Modal API Control Panel */}\n      {isApiModalOpen && (\n        <div style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: 'rgba(0, 0, 0, 0.5)',\n          zIndex: 1000,\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          padding: '20px'\n        }}>\n          <div style={{\n            background: 'rgba(255, 255, 255, 0.95)',\n            backdropFilter: 'blur(10px)',\n            border: '1px solid rgba(255, 255, 255, 0.2)',\n            borderRadius: '16px',\n            padding: '24px',\n            minWidth: '400px',\n            maxWidth: '600px',\n            maxHeight: '80vh',\n            overflowY: 'auto',\n            boxShadow: '0 20px 40px rgba(0,0,0,0.15)',\n            position: 'relative'\n          }}>\n            {/* CSS pour les animations LED */}\n            <style>\n              {`\n                @keyframes pulse-led {\n                  0% { \n                    box-shadow: 0 0 8px currentColor; \n                    opacity: 1; \n                    transform: scale(1);\n                  }\n                  50% { \n                    box-shadow: 0 0 20px currentColor, 0 0 40px currentColor; \n                    opacity: 0.4; \n                    transform: scale(1.2);\n                  }\n                }\n              `}\n            </style>\n\n            {/* En-tête du modal */}\n            <div style={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              marginBottom: '20px',\n              borderBottom: '1px solid rgba(0,0,0,0.1)',\n              paddingBottom: '16px'\n            }}>\n              <h3 style={{\n                margin: 0,\n                color: '#333',\n                fontSize: '18px',\n                fontWeight: 'bold',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px'\n              }}>\n                🔧 API Status - Rubrique {rubriqueNumber}\n              </h3>\n              <button\n                onClick={() => setIsApiModalOpen(false)}\n                style={{\n                  background: 'none',\n                  border: 'none',\n                  fontSize: '24px',\n                  cursor: 'pointer',\n                  color: '#999',\n                  padding: '4px',\n                  borderRadius: '4px',\n                  transition: 'color 0.3s ease'\n                }}\n                onMouseOver={(e) => e.target.style.color = '#333'}\n                onMouseOut={(e) => e.target.style.color = '#999'}\n              >\n                ✕\n              </button>\n            </div>\n\n            {/* Contenu du statut API */}\n            {apiStatus ? (\n              <div>\n                {/* Liste des 5 APIs avec leurs couleurs */}\n                <div style={{ marginBottom: '20px' }}>\n                  <h4 style={{ \n                    margin: '0 0 12px 0', \n                    color: '#666', \n                    fontSize: '14px',\n                    fontWeight: '600',\n                    textTransform: 'uppercase',\n                    letterSpacing: '0.5px'\n                  }}>\n                    État des APIs ({Object.keys(apiStatus.apis).length} APIs configurées)\n                  </h4>\n                  \n                  {Object.entries(apiStatus.apis).map(([key, api]) => (\n                    <div\n                      key={key}\n                      style={{\n                        display: 'flex',\n                        justifyContent: 'space-between',\n                        alignItems: 'center',\n                        padding: '14px',\n                        marginBottom: '8px',\n                        background: api.color === 'green' ? 'rgba(0, 255, 0, 0.08)' : 'rgba(255, 0, 0, 0.08)',\n                        border: `2px solid ${api.color === 'green' ? 'rgba(0, 255, 0, 0.3)' : 'rgba(255, 0, 0, 0.3)'}`,\n                        borderRadius: '10px',\n                        transition: 'all 0.3s ease',\n                        boxShadow: `0 2px 8px ${api.color === 'green' ? 'rgba(0, 255, 0, 0.1)' : 'rgba(255, 0, 0, 0.1)'}`\n                      }}\n                    >\n                      <div style={{ display: 'flex', flexDirection: 'column' }}>\n                        <div style={{ display: 'flex', alignItems: 'center', marginBottom: '4px' }}>\n                          <div style={ledStyle(getLedColor(api))} />\n                          <span style={{\n                            fontWeight: 'bold',\n                            color: '#333',\n                            marginRight: '12px',\n                            fontSize: '14px'\n                          }}>\n                            {api.name}\n                          </span>\n                          {key === apiStatus.active_api && (\n                            <span style={{\n                              background: 'linear-gradient(135deg, #4CAF50, #45a049)',\n                              color: 'white',\n                              padding: '2px 10px',\n                              borderRadius: '12px',\n                              fontSize: '10px',\n                              fontWeight: 'bold',\n                              textTransform: 'uppercase'\n                            }}>\n                              ACTIVE\n                            </span>\n                          )}\n                        </div>\n                        <div style={{ \n                          fontSize: '11px', \n                          color: '#666', \n                          marginLeft: '22px',\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '12px'\n                        }}>\n                          <span>✅ {api.success_count} succès</span>\n                          <span>❌ {api.error_count} échecs</span>\n                          {api.last_used && (\n                            <span>🕒 {new Date(api.last_used).toLocaleTimeString()}</span>\n                          )}\n                        </div>\n                      </div>\n                      <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                        <span style={{\n                          fontSize: '12px',\n                          color: api.color === 'green' ? '#4CAF50' : '#f44336',\n                          fontWeight: 'bold',\n                          textTransform: 'uppercase'\n                        }}>\n                          {api.status === 'available' ? 'Disponible' : 'Quota Dépassé'}\n                        </span>\n                        <span style={{ fontSize: '18px' }}>\n                          {getStatusIcon(api)}\n                        </span>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n\n                {/* Informations générales */}\n                <div style={{\n                  background: 'rgba(55, 66, 250, 0.05)',\n                  border: '1px solid rgba(55, 66, 250, 0.2)',\n                  borderRadius: '10px',\n                  padding: '16px',\n                  marginBottom: '16px'\n                }}>\n                  <h5 style={{ \n                    margin: '0 0 8px 0', \n                    color: '#3742fa', \n                    fontSize: '13px',\n                    fontWeight: 'bold' \n                  }}>\n                    📊 Statistiques Globales\n                  </h5>\n                  <div style={{ fontSize: '12px', color: '#666', display: 'flex', flexWrap: 'wrap', gap: '16px' }}>\n                    <span>🔄 API Active: {apiStatus.active_api || 'Aucune'}</span>\n                    <span>⚡ Fallback: {apiStatus.fallback_active ? 'Activé' : 'Disponible'}</span>\n                    <span>🎯 Contexte: Rubrique {rubriqueNumber} - {rubriqueTitle}</span>\n                  </div>\n                </div>\n\n                {/* Bouton de rafraîchissement */}\n                <div style={{ textAlign: 'center', marginTop: '16px' }}>\n                  <button\n                    onClick={() => {\n                      fetchApiStatus();\n                      fetchApiHistory();\n                    }}\n                    style={{\n                      background: 'linear-gradient(135deg, #3742fa, #2f3542)',\n                      color: 'white',\n                      border: 'none',\n                      padding: '10px 20px',\n                      borderRadius: '8px',\n                      fontSize: '12px',\n                      fontWeight: '600',\n                      cursor: 'pointer',\n                      transition: 'all 0.3s ease'\n                    }}\n                  >\n                    🔄 Actualiser\n                  </button>\n                </div>\n              </div>\n            ) : (\n              <div style={{ textAlign: 'center', padding: '40px 20px' }}>\n                <div style={{ fontSize: '24px', marginBottom: '12px' }}>⚙️</div>\n                <p style={{ color: '#666', margin: 0 }}>Chargement du statut des APIs...</p>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default RubriquePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}