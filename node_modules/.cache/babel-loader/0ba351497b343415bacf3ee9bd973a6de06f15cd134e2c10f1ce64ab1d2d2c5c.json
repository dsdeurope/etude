{"ast":null,"code":"var _jsxFileName = \"/app/src/NotesPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst NotesPage = ({\n  onGoBack\n}) => {\n  _s();\n  const [notes, setNotes] = useState('');\n  const [lastSaved, setLastSaved] = useState(null);\n  const [isSaving, setIsSaving] = useState(false);\n  const [saveCount, setSaveCount] = useState(0);\n  const textareaRef = useRef(null);\n  const autoSaveIntervalRef = useRef(null);\n\n  // Cl√©s de sauvegarde multiples pour s√©curit√© maximale\n  const STORAGE_KEYS = {\n    primary: 'bible-study-notes',\n    backup1: 'bible-study-notes-backup-1',\n    backup2: 'bible-study-notes-backup-2',\n    metadata: 'bible-study-notes-meta'\n  };\n\n  // Fonction de sauvegarde ultra-robuste avec multiples backups\n  const saveNotesToStorage = notesContent => {\n    try {\n      const timestamp = new Date().toISOString();\n      const metadata = {\n        lastSaved: timestamp,\n        saveCount: saveCount + 1,\n        contentLength: notesContent.length\n      };\n\n      // Sauvegarde primaire\n      localStorage.setItem(STORAGE_KEYS.primary, JSON.stringify(notesContent));\n\n      // Sauvegarde backup 1\n      localStorage.setItem(STORAGE_KEYS.backup1, JSON.stringify(notesContent));\n\n      // Sauvegarde backup 2 (rotation toutes les 5 sauvegardes)\n      if (saveCount % 5 === 0) {\n        localStorage.setItem(STORAGE_KEYS.backup2, JSON.stringify(notesContent));\n      }\n\n      // M√©tadonn√©es\n      localStorage.setItem(STORAGE_KEYS.metadata, JSON.stringify(metadata));\n      setLastSaved(timestamp);\n      setSaveCount(prev => prev + 1);\n      console.log(`[NOTES] Sauvegarde r√©ussie - Count: ${saveCount + 1}, Taille: ${notesContent.length} chars`);\n      return true;\n    } catch (error) {\n      console.error('[NOTES] Erreur sauvegarde:', error);\n      return false;\n    }\n  };\n\n  // Fonction de r√©cup√©ration avec fallback sur les backups\n  const loadNotesFromStorage = () => {\n    try {\n      // Essayer la sauvegarde primaire\n      let savedNotes = localStorage.getItem(STORAGE_KEYS.primary);\n      if (savedNotes) {\n        const parsed = JSON.parse(savedNotes);\n        console.log('[NOTES] Chargement depuis sauvegarde primaire');\n        return parsed;\n      }\n\n      // Fallback sur backup 1\n      savedNotes = localStorage.getItem(STORAGE_KEYS.backup1);\n      if (savedNotes) {\n        const parsed = JSON.parse(savedNotes);\n        console.log('[NOTES] Chargement depuis backup 1');\n        // Restaurer la sauvegarde primaire\n        localStorage.setItem(STORAGE_KEYS.primary, savedNotes);\n        return parsed;\n      }\n\n      // Fallback sur backup 2\n      savedNotes = localStorage.getItem(STORAGE_KEYS.backup2);\n      if (savedNotes) {\n        const parsed = JSON.parse(savedNotes);\n        console.log('[NOTES] Chargement depuis backup 2');\n        // Restaurer les sauvegardes primaire et backup 1\n        localStorage.setItem(STORAGE_KEYS.primary, savedNotes);\n        localStorage.setItem(STORAGE_KEYS.backup1, savedNotes);\n        return parsed;\n      }\n      console.log('[NOTES] Aucune sauvegarde trouv√©e');\n      return '';\n    } catch (error) {\n      console.error('[NOTES] Erreur chargement:', error);\n      return '';\n    }\n  };\n\n  // Chargement initial des notes\n  useEffect(() => {\n    const loadedNotes = loadNotesFromStorage();\n    setNotes(loadedNotes);\n\n    // Charger les m√©tadonn√©es\n    try {\n      const metadata = localStorage.getItem(STORAGE_KEYS.metadata);\n      if (metadata) {\n        const parsed = JSON.parse(metadata);\n        setLastSaved(parsed.lastSaved);\n        setSaveCount(parsed.saveCount || 0);\n      }\n    } catch (error) {\n      console.error('[NOTES] Erreur chargement m√©tadonn√©es:', error);\n    }\n  }, []);\n\n  // Auto-sauvegarde toutes les 3 secondes lors de la saisie\n  useEffect(() => {\n    if (autoSaveIntervalRef.current) {\n      clearInterval(autoSaveIntervalRef.current);\n    }\n    autoSaveIntervalRef.current = setInterval(() => {\n      if (notes.trim().length > 0) {\n        setIsSaving(true);\n        saveNotesToStorage(notes);\n        setTimeout(() => setIsSaving(false), 1000);\n      }\n    }, 3000);\n    return () => {\n      if (autoSaveIntervalRef.current) {\n        clearInterval(autoSaveIntervalRef.current);\n      }\n    };\n  }, [notes, saveCount]);\n\n  // Sauvegarde manuelle\n  const handleManualSave = () => {\n    setIsSaving(true);\n    const success = saveNotesToStorage(notes);\n    setTimeout(() => setIsSaving(false), 1000);\n    if (success) {\n      // Feedback visuel\n      if (textareaRef.current) {\n        textareaRef.current.style.borderColor = '#10b981';\n        setTimeout(() => {\n          if (textareaRef.current) {\n            textareaRef.current.style.borderColor = '';\n          }\n        }, 2000);\n      }\n    }\n  };\n\n  // Sauvegarde avant fermeture de page\n  useEffect(() => {\n    const handleBeforeUnload = e => {\n      if (notes.trim().length > 0) {\n        saveNotesToStorage(notes);\n      }\n    };\n    const handleVisibilityChange = () => {\n      if (document.hidden && notes.trim().length > 0) {\n        saveNotesToStorage(notes);\n      }\n    };\n    window.addEventListener('beforeunload', handleBeforeUnload);\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n    return () => {\n      window.removeEventListener('beforeunload', handleBeforeUnload);\n      document.removeEventListener('visibilitychange', handleVisibilityChange);\n    };\n  }, [notes]);\n  const formatLastSaved = () => {\n    if (!lastSaved) return 'Jamais sauvegard√©';\n    const date = new Date(lastSaved);\n    const now = new Date();\n    const diffMs = now - date;\n    const diffMinutes = Math.floor(diffMs / 60000);\n    if (diffMinutes < 1) return 'Sauvegard√© √† l\\'instant';\n    if (diffMinutes === 1) return 'Sauvegard√© il y a 1 minute';\n    if (diffMinutes < 60) return `Sauvegard√© il y a ${diffMinutes} minutes`;\n    const diffHours = Math.floor(diffMinutes / 60);\n    if (diffHours === 1) return 'Sauvegard√© il y a 1 heure';\n    if (diffHours < 24) return `Sauvegard√© il y a ${diffHours} heures`;\n    return `Sauvegard√© le ${date.toLocaleDateString()} √† ${date.toLocaleTimeString()}`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, rgba(248, 250, 252, 0.98) 0%, rgba(241, 245, 249, 0.95) 50%, rgba(248, 250, 252, 0.98) 100%)',\n      fontFamily: 'Inter, -apple-system, BlinkMacSystemFont, sans-serif'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: 'linear-gradient(135deg, rgba(16, 185, 129, 0.95) 0%, rgba(5, 150, 105, 0.98) 100%)',\n        color: 'white',\n        padding: '30px 20px',\n        boxShadow: '0 8px 32px rgba(16, 185, 129, 0.25)',\n        position: 'sticky',\n        top: 0,\n        zIndex: 100,\n        overflow: 'hidden'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'linear-gradient(45deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(255, 255, 255, 0.05) 100%)',\n          pointerEvents: 'none'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxWidth: '900px',\n          margin: '0 auto',\n          position: 'relative',\n          zIndex: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onGoBack,\n          style: {\n            background: 'rgba(255, 255, 255, 0.2)',\n            border: '1px solid rgba(255, 255, 255, 0.3)',\n            color: 'white',\n            padding: '10px 20px',\n            borderRadius: '12px',\n            cursor: 'pointer',\n            fontSize: '14px',\n            fontWeight: '600',\n            marginBottom: '20px',\n            backdropFilter: 'blur(10px)',\n            transition: 'all 0.3s ease'\n          },\n          onMouseOver: e => {\n            e.target.style.background = 'rgba(255, 255, 255, 0.3)';\n            e.target.style.transform = 'translateY(-2px)';\n          },\n          onMouseOut: e => {\n            e.target.style.background = 'rgba(255, 255, 255, 0.2)';\n            e.target.style.transform = 'translateY(0)';\n          },\n          children: \"\\u2190 Retour \\xE0 l'\\xC9tude\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            fontSize: 'clamp(1.8rem, 4vw, 2.5rem)',\n            fontWeight: '800',\n            margin: '0 0 8px 0',\n            textAlign: 'center',\n            textShadow: '0 2px 8px rgba(0, 0, 0, 0.1)'\n          },\n          children: \"\\uD83D\\uDCDD Mes Notes d'\\xC9tude Biblique\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 'clamp(1rem, 3vw, 1.1rem)',\n            textAlign: 'center',\n            opacity: 0.9,\n            fontWeight: '500'\n          },\n          children: [\"Carnet personnel permanent \\u2022 \", notes.length, \" caract\\xE8res\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: '900px',\n        margin: '0 auto',\n        padding: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'white',\n          borderRadius: '16px',\n          padding: 'clamp(20px, 5vw, 30px)',\n          boxShadow: '0 8px 32px rgba(0, 0, 0, 0.08)',\n          border: '2px solid rgba(226, 232, 240, 0.8)',\n          marginBottom: '20px',\n          transition: 'border-color 0.3s ease'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          ref: textareaRef,\n          value: notes,\n          onChange: e => setNotes(e.target.value),\n          placeholder: `‚úçÔ∏è √âcrivez vos r√©flexions spirituelles ici...\n\nExemples d'utilisation :\n‚Ä¢ Versets qui m'ont marqu√© aujourd'hui\n‚Ä¢ Questions pour approfondir ma foi  \n‚Ä¢ R√©v√©lations re√ßues pendant l'√©tude\n‚Ä¢ Applications personnelles des enseignements\n‚Ä¢ Pri√®res inspir√©es par les passages √©tudi√©s\n‚Ä¢ Liens entre diff√©rents passages bibliques\n‚Ä¢ T√©moignages et exp√©riences spirituelles\n\nüí° Vos notes sont sauvegard√©es automatiquement et de fa√ßon permanente !`,\n          style: {\n            width: '100%',\n            minHeight: 'clamp(300px, 50vh, 500px)',\n            border: 'none',\n            outline: 'none',\n            resize: 'vertical',\n            fontSize: 'clamp(15px, 4vw, 16px)',\n            lineHeight: '1.6',\n            fontFamily: 'Georgia, serif',\n            backgroundColor: 'transparent',\n            color: '#374151',\n            transition: 'border-color 0.3s ease'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginTop: '20px',\n            flexWrap: 'wrap',\n            gap: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '15px',\n              flexWrap: 'wrap'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n                fontSize: 'clamp(12px, 3vw, 14px)',\n                color: '#6b7280'\n              },\n              children: isSaving ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    width: '12px',\n                    height: '12px',\n                    border: '2px solid #e5e7eb',\n                    borderTop: '2px solid #10b981',\n                    borderRadius: '50%',\n                    animation: 'spin 0.8s linear infinite'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 21\n                }, this), \"Sauvegarde...\"]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: '#10b981'\n                  },\n                  children: \"\\u2713\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 21\n                }, this), formatLastSaved()]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 'clamp(12px, 3vw, 14px)',\n                color: '#6b7280'\n              },\n              children: [saveCount, \" sauvegarde\", saveCount > 1 ? 's' : '']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleManualSave,\n            disabled: isSaving,\n            style: {\n              background: isSaving ? 'linear-gradient(135deg, #94a3b8 0%, #64748b 100%)' : 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n              color: 'white',\n              border: 'none',\n              padding: 'clamp(10px, 3vw, 12px) clamp(16px, 4vw, 20px)',\n              borderRadius: '10px',\n              fontSize: 'clamp(13px, 3.5vw, 15px)',\n              fontWeight: '600',\n              cursor: isSaving ? 'not-allowed' : 'pointer',\n              transition: 'all 0.3s ease',\n              boxShadow: '0 3px 12px rgba(16, 185, 129, 0.25)',\n              opacity: isSaving ? 0.7 : 1\n            },\n            onMouseOver: e => {\n              if (!isSaving) {\n                e.target.style.transform = 'translateY(-1px)';\n                e.target.style.boxShadow = '0 4px 16px rgba(16, 185, 129, 0.35)';\n              }\n            },\n            onMouseOut: e => {\n              if (!isSaving) {\n                e.target.style.transform = 'translateY(0)';\n                e.target.style.boxShadow = '0 3px 12px rgba(16, 185, 129, 0.25)';\n              }\n            },\n            children: \"\\uD83D\\uDCBE Sauvegarder maintenant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'rgba(16, 185, 129, 0.05)',\n          border: '2px solid rgba(16, 185, 129, 0.2)',\n          borderRadius: '12px',\n          padding: '20px',\n          marginBottom: '20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'flex-start',\n            gap: '12px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '1.5rem',\n              minWidth: '32px',\n              textAlign: 'center'\n            },\n            children: \"\\uD83D\\uDD12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                margin: '0 0 8px 0',\n                color: '#059669',\n                fontSize: 'clamp(1rem, 4vw, 1.1rem)',\n                fontWeight: '700'\n              },\n              children: \"S\\xE9curit\\xE9 Maximum de vos Notes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              style: {\n                margin: 0,\n                paddingLeft: '20px',\n                color: '#374151',\n                fontSize: 'clamp(13px, 3.5vw, 14px)',\n                lineHeight: '1.5'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\uD83D\\uDD04 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Auto-sauvegarde\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 24\n                }, this), \" toutes les 3 secondes\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\uD83D\\uDCBE \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Triple sauvegarde\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 24\n                }, this), \" : primaire + 2 backups\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\uD83D\\uDEE1\\uFE0F \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Sauvegarde avant fermeture\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 25\n                }, this), \" de page automatique\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\uD83D\\uDD04 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"R\\xE9cup\\xE9ration automatique\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 24\n                }, this), \" en cas de probl\\xE8me\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u267E\\uFE0F \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Persistance garantie\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 24\n                }, this), \" : vos notes ne seront JAMAIS perdues\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n          \n          /* Optimisations mobile suppl√©mentaires */\n          @media (max-width: 768px) {\n            textarea {\n              min-height: 400px !important;\n            }\n          }\n          \n          @media (max-width: 480px) {\n            textarea {\n              min-height: 350px !important;\n              font-size: 16px !important; /* √âvite le zoom sur iOS */\n            }\n          }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 5\n  }, this);\n};\n_s(NotesPage, \"Bi9J5IJi7/dOcjQEEjHTAn/ItV4=\");\n_c = NotesPage;\nexport default NotesPage;\nvar _c;\n$RefreshReg$(_c, \"NotesPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","NotesPage","onGoBack","_s","notes","setNotes","lastSaved","setLastSaved","isSaving","setIsSaving","saveCount","setSaveCount","textareaRef","autoSaveIntervalRef","STORAGE_KEYS","primary","backup1","backup2","metadata","saveNotesToStorage","notesContent","timestamp","Date","toISOString","contentLength","length","localStorage","setItem","JSON","stringify","prev","console","log","error","loadNotesFromStorage","savedNotes","getItem","parsed","parse","loadedNotes","current","clearInterval","setInterval","trim","setTimeout","handleManualSave","success","style","borderColor","handleBeforeUnload","e","handleVisibilityChange","document","hidden","window","addEventListener","removeEventListener","formatLastSaved","date","now","diffMs","diffMinutes","Math","floor","diffHours","toLocaleDateString","toLocaleTimeString","minHeight","background","fontFamily","children","color","padding","boxShadow","position","top","zIndex","overflow","left","right","bottom","pointerEvents","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","margin","onClick","border","borderRadius","cursor","fontSize","fontWeight","marginBottom","backdropFilter","transition","onMouseOver","target","transform","onMouseOut","textAlign","textShadow","opacity","ref","value","onChange","placeholder","width","outline","resize","lineHeight","backgroundColor","display","justifyContent","alignItems","marginTop","flexWrap","gap","height","borderTop","animation","disabled","minWidth","paddingLeft","_c","$RefreshReg$"],"sources":["/app/src/NotesPage.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\nconst NotesPage = ({ onGoBack }) => {\n  const [notes, setNotes] = useState('');\n  const [lastSaved, setLastSaved] = useState(null);\n  const [isSaving, setIsSaving] = useState(false);\n  const [saveCount, setSaveCount] = useState(0);\n  const textareaRef = useRef(null);\n  const autoSaveIntervalRef = useRef(null);\n\n  // Cl√©s de sauvegarde multiples pour s√©curit√© maximale\n  const STORAGE_KEYS = {\n    primary: 'bible-study-notes',\n    backup1: 'bible-study-notes-backup-1', \n    backup2: 'bible-study-notes-backup-2',\n    metadata: 'bible-study-notes-meta'\n  };\n\n  // Fonction de sauvegarde ultra-robuste avec multiples backups\n  const saveNotesToStorage = (notesContent) => {\n    try {\n      const timestamp = new Date().toISOString();\n      const metadata = {\n        lastSaved: timestamp,\n        saveCount: saveCount + 1,\n        contentLength: notesContent.length\n      };\n\n      // Sauvegarde primaire\n      localStorage.setItem(STORAGE_KEYS.primary, JSON.stringify(notesContent));\n      \n      // Sauvegarde backup 1\n      localStorage.setItem(STORAGE_KEYS.backup1, JSON.stringify(notesContent));\n      \n      // Sauvegarde backup 2 (rotation toutes les 5 sauvegardes)\n      if (saveCount % 5 === 0) {\n        localStorage.setItem(STORAGE_KEYS.backup2, JSON.stringify(notesContent));\n      }\n      \n      // M√©tadonn√©es\n      localStorage.setItem(STORAGE_KEYS.metadata, JSON.stringify(metadata));\n      \n      setLastSaved(timestamp);\n      setSaveCount(prev => prev + 1);\n      \n      console.log(`[NOTES] Sauvegarde r√©ussie - Count: ${saveCount + 1}, Taille: ${notesContent.length} chars`);\n      return true;\n    } catch (error) {\n      console.error('[NOTES] Erreur sauvegarde:', error);\n      return false;\n    }\n  };\n\n  // Fonction de r√©cup√©ration avec fallback sur les backups\n  const loadNotesFromStorage = () => {\n    try {\n      // Essayer la sauvegarde primaire\n      let savedNotes = localStorage.getItem(STORAGE_KEYS.primary);\n      if (savedNotes) {\n        const parsed = JSON.parse(savedNotes);\n        console.log('[NOTES] Chargement depuis sauvegarde primaire');\n        return parsed;\n      }\n\n      // Fallback sur backup 1\n      savedNotes = localStorage.getItem(STORAGE_KEYS.backup1);\n      if (savedNotes) {\n        const parsed = JSON.parse(savedNotes);\n        console.log('[NOTES] Chargement depuis backup 1');\n        // Restaurer la sauvegarde primaire\n        localStorage.setItem(STORAGE_KEYS.primary, savedNotes);\n        return parsed;\n      }\n\n      // Fallback sur backup 2\n      savedNotes = localStorage.getItem(STORAGE_KEYS.backup2);\n      if (savedNotes) {\n        const parsed = JSON.parse(savedNotes);\n        console.log('[NOTES] Chargement depuis backup 2');\n        // Restaurer les sauvegardes primaire et backup 1\n        localStorage.setItem(STORAGE_KEYS.primary, savedNotes);\n        localStorage.setItem(STORAGE_KEYS.backup1, savedNotes);\n        return parsed;\n      }\n\n      console.log('[NOTES] Aucune sauvegarde trouv√©e');\n      return '';\n    } catch (error) {\n      console.error('[NOTES] Erreur chargement:', error);\n      return '';\n    }\n  };\n\n  // Chargement initial des notes\n  useEffect(() => {\n    const loadedNotes = loadNotesFromStorage();\n    setNotes(loadedNotes);\n\n    // Charger les m√©tadonn√©es\n    try {\n      const metadata = localStorage.getItem(STORAGE_KEYS.metadata);\n      if (metadata) {\n        const parsed = JSON.parse(metadata);\n        setLastSaved(parsed.lastSaved);\n        setSaveCount(parsed.saveCount || 0);\n      }\n    } catch (error) {\n      console.error('[NOTES] Erreur chargement m√©tadonn√©es:', error);\n    }\n  }, []);\n\n  // Auto-sauvegarde toutes les 3 secondes lors de la saisie\n  useEffect(() => {\n    if (autoSaveIntervalRef.current) {\n      clearInterval(autoSaveIntervalRef.current);\n    }\n\n    autoSaveIntervalRef.current = setInterval(() => {\n      if (notes.trim().length > 0) {\n        setIsSaving(true);\n        saveNotesToStorage(notes);\n        setTimeout(() => setIsSaving(false), 1000);\n      }\n    }, 3000);\n\n    return () => {\n      if (autoSaveIntervalRef.current) {\n        clearInterval(autoSaveIntervalRef.current);\n      }\n    };\n  }, [notes, saveCount]);\n\n  // Sauvegarde manuelle\n  const handleManualSave = () => {\n    setIsSaving(true);\n    const success = saveNotesToStorage(notes);\n    setTimeout(() => setIsSaving(false), 1000);\n    \n    if (success) {\n      // Feedback visuel\n      if (textareaRef.current) {\n        textareaRef.current.style.borderColor = '#10b981';\n        setTimeout(() => {\n          if (textareaRef.current) {\n            textareaRef.current.style.borderColor = '';\n          }\n        }, 2000);\n      }\n    }\n  };\n\n  // Sauvegarde avant fermeture de page\n  useEffect(() => {\n    const handleBeforeUnload = (e) => {\n      if (notes.trim().length > 0) {\n        saveNotesToStorage(notes);\n      }\n    };\n\n    const handleVisibilityChange = () => {\n      if (document.hidden && notes.trim().length > 0) {\n        saveNotesToStorage(notes);\n      }\n    };\n\n    window.addEventListener('beforeunload', handleBeforeUnload);\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n\n    return () => {\n      window.removeEventListener('beforeunload', handleBeforeUnload);\n      document.removeEventListener('visibilitychange', handleVisibilityChange);\n    };\n  }, [notes]);\n\n  const formatLastSaved = () => {\n    if (!lastSaved) return 'Jamais sauvegard√©';\n    \n    const date = new Date(lastSaved);\n    const now = new Date();\n    const diffMs = now - date;\n    const diffMinutes = Math.floor(diffMs / 60000);\n    \n    if (diffMinutes < 1) return 'Sauvegard√© √† l\\'instant';\n    if (diffMinutes === 1) return 'Sauvegard√© il y a 1 minute';\n    if (diffMinutes < 60) return `Sauvegard√© il y a ${diffMinutes} minutes`;\n    \n    const diffHours = Math.floor(diffMinutes / 60);\n    if (diffHours === 1) return 'Sauvegard√© il y a 1 heure';\n    if (diffHours < 24) return `Sauvegard√© il y a ${diffHours} heures`;\n    \n    return `Sauvegard√© le ${date.toLocaleDateString()} √† ${date.toLocaleTimeString()}`;\n  };\n\n  return (\n    <div style={{\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, rgba(248, 250, 252, 0.98) 0%, rgba(241, 245, 249, 0.95) 50%, rgba(248, 250, 252, 0.98) 100%)',\n      fontFamily: 'Inter, -apple-system, BlinkMacSystemFont, sans-serif'\n    }}>\n      {/* En-t√™te moderne */}\n      <div style={{\n        background: 'linear-gradient(135deg, rgba(16, 185, 129, 0.95) 0%, rgba(5, 150, 105, 0.98) 100%)',\n        color: 'white',\n        padding: '30px 20px',\n        boxShadow: '0 8px 32px rgba(16, 185, 129, 0.25)',\n        position: 'sticky',\n        top: 0,\n        zIndex: 100,\n        overflow: 'hidden'\n      }}>\n        <div style={{\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'linear-gradient(45deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(255, 255, 255, 0.05) 100%)',\n          pointerEvents: 'none'\n        }}></div>\n        \n        <div style={{\n          maxWidth: '900px',\n          margin: '0 auto',\n          position: 'relative',\n          zIndex: 10\n        }}>\n          <button \n            onClick={onGoBack}\n            style={{\n              background: 'rgba(255, 255, 255, 0.2)',\n              border: '1px solid rgba(255, 255, 255, 0.3)',\n              color: 'white',\n              padding: '10px 20px',\n              borderRadius: '12px',\n              cursor: 'pointer',\n              fontSize: '14px',\n              fontWeight: '600',\n              marginBottom: '20px',\n              backdropFilter: 'blur(10px)',\n              transition: 'all 0.3s ease'\n            }}\n            onMouseOver={(e) => {\n              e.target.style.background = 'rgba(255, 255, 255, 0.3)';\n              e.target.style.transform = 'translateY(-2px)';\n            }}\n            onMouseOut={(e) => {\n              e.target.style.background = 'rgba(255, 255, 255, 0.2)';\n              e.target.style.transform = 'translateY(0)';\n            }}\n          >\n            ‚Üê Retour √† l'√âtude\n          </button>\n          \n          <h1 style={{\n            fontSize: 'clamp(1.8rem, 4vw, 2.5rem)',\n            fontWeight: '800',\n            margin: '0 0 8px 0',\n            textAlign: 'center',\n            textShadow: '0 2px 8px rgba(0, 0, 0, 0.1)'\n          }}>\n            üìù Mes Notes d'√âtude Biblique\n          </h1>\n          \n          <div style={{\n            fontSize: 'clamp(1rem, 3vw, 1.1rem)',\n            textAlign: 'center',\n            opacity: 0.9,\n            fontWeight: '500'\n          }}>\n            Carnet personnel permanent ‚Ä¢ {notes.length} caract√®res\n          </div>\n        </div>\n      </div>\n\n      {/* Contenu principal */}\n      <div style={{\n        maxWidth: '900px',\n        margin: '0 auto',\n        padding: '20px'\n      }}>\n        {/* Zone de saisie */}\n        <div style={{\n          background: 'white',\n          borderRadius: '16px',\n          padding: 'clamp(20px, 5vw, 30px)',\n          boxShadow: '0 8px 32px rgba(0, 0, 0, 0.08)',\n          border: '2px solid rgba(226, 232, 240, 0.8)',\n          marginBottom: '20px',\n          transition: 'border-color 0.3s ease'\n        }}>\n          <textarea\n            ref={textareaRef}\n            value={notes}\n            onChange={(e) => setNotes(e.target.value)}\n            placeholder={`‚úçÔ∏è √âcrivez vos r√©flexions spirituelles ici...\n\nExemples d'utilisation :\n‚Ä¢ Versets qui m'ont marqu√© aujourd'hui\n‚Ä¢ Questions pour approfondir ma foi  \n‚Ä¢ R√©v√©lations re√ßues pendant l'√©tude\n‚Ä¢ Applications personnelles des enseignements\n‚Ä¢ Pri√®res inspir√©es par les passages √©tudi√©s\n‚Ä¢ Liens entre diff√©rents passages bibliques\n‚Ä¢ T√©moignages et exp√©riences spirituelles\n\nüí° Vos notes sont sauvegard√©es automatiquement et de fa√ßon permanente !`}\n            style={{\n              width: '100%',\n              minHeight: 'clamp(300px, 50vh, 500px)',\n              border: 'none',\n              outline: 'none',\n              resize: 'vertical',\n              fontSize: 'clamp(15px, 4vw, 16px)',\n              lineHeight: '1.6',\n              fontFamily: 'Georgia, serif',\n              backgroundColor: 'transparent',\n              color: '#374151',\n              transition: 'border-color 0.3s ease'\n            }}\n          />\n          \n          {/* Barre d'actions */}\n          <div style={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginTop: '20px',\n            flexWrap: 'wrap',\n            gap: '15px'\n          }}>\n            {/* Informations de sauvegarde */}\n            <div style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '15px',\n              flexWrap: 'wrap'\n            }}>\n              <div style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n                fontSize: 'clamp(12px, 3vw, 14px)',\n                color: '#6b7280'\n              }}>\n                {isSaving ? (\n                  <>\n                    <div style={{\n                      width: '12px',\n                      height: '12px',\n                      border: '2px solid #e5e7eb',\n                      borderTop: '2px solid #10b981',\n                      borderRadius: '50%',\n                      animation: 'spin 0.8s linear infinite'\n                    }}></div>\n                    Sauvegarde...\n                  </>\n                ) : (\n                  <>\n                    <span style={{ color: '#10b981' }}>‚úì</span>\n                    {formatLastSaved()}\n                  </>\n                )}\n              </div>\n              \n              <div style={{\n                fontSize: 'clamp(12px, 3vw, 14px)',\n                color: '#6b7280'\n              }}>\n                {saveCount} sauvegarde{saveCount > 1 ? 's' : ''}\n              </div>\n            </div>\n            \n            {/* Bouton de sauvegarde manuelle */}\n            <button\n              onClick={handleManualSave}\n              disabled={isSaving}\n              style={{\n                background: isSaving \n                  ? 'linear-gradient(135deg, #94a3b8 0%, #64748b 100%)'\n                  : 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n                color: 'white',\n                border: 'none',\n                padding: 'clamp(10px, 3vw, 12px) clamp(16px, 4vw, 20px)',\n                borderRadius: '10px',\n                fontSize: 'clamp(13px, 3.5vw, 15px)',\n                fontWeight: '600',\n                cursor: isSaving ? 'not-allowed' : 'pointer',\n                transition: 'all 0.3s ease',\n                boxShadow: '0 3px 12px rgba(16, 185, 129, 0.25)',\n                opacity: isSaving ? 0.7 : 1\n              }}\n              onMouseOver={(e) => {\n                if (!isSaving) {\n                  e.target.style.transform = 'translateY(-1px)';\n                  e.target.style.boxShadow = '0 4px 16px rgba(16, 185, 129, 0.35)';\n                }\n              }}\n              onMouseOut={(e) => {\n                if (!isSaving) {\n                  e.target.style.transform = 'translateY(0)';\n                  e.target.style.boxShadow = '0 3px 12px rgba(16, 185, 129, 0.25)';\n                }\n              }}\n            >\n              üíæ Sauvegarder maintenant\n            </button>\n          </div>\n        </div>\n\n        {/* Informations sur la s√©curit√© des donn√©es */}\n        <div style={{\n          background: 'rgba(16, 185, 129, 0.05)',\n          border: '2px solid rgba(16, 185, 129, 0.2)',\n          borderRadius: '12px',\n          padding: '20px',\n          marginBottom: '20px'\n        }}>\n          <div style={{\n            display: 'flex',\n            alignItems: 'flex-start',\n            gap: '12px'\n          }}>\n            <div style={{\n              fontSize: '1.5rem',\n              minWidth: '32px',\n              textAlign: 'center'\n            }}>üîí</div>\n            <div>\n              <h3 style={{\n                margin: '0 0 8px 0',\n                color: '#059669',\n                fontSize: 'clamp(1rem, 4vw, 1.1rem)',\n                fontWeight: '700'\n              }}>\n                S√©curit√© Maximum de vos Notes\n              </h3>\n              <ul style={{\n                margin: 0,\n                paddingLeft: '20px',\n                color: '#374151',\n                fontSize: 'clamp(13px, 3.5vw, 14px)',\n                lineHeight: '1.5'\n              }}>\n                <li>üîÑ <strong>Auto-sauvegarde</strong> toutes les 3 secondes</li>\n                <li>üíæ <strong>Triple sauvegarde</strong> : primaire + 2 backups</li>\n                <li>üõ°Ô∏è <strong>Sauvegarde avant fermeture</strong> de page automatique</li>\n                <li>üîÑ <strong>R√©cup√©ration automatique</strong> en cas de probl√®me</li>\n                <li>‚ôæÔ∏è <strong>Persistance garantie</strong> : vos notes ne seront JAMAIS perdues</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* Styles CSS pour les animations */}\n      <style>\n        {`\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n          \n          /* Optimisations mobile suppl√©mentaires */\n          @media (max-width: 768px) {\n            textarea {\n              min-height: 400px !important;\n            }\n          }\n          \n          @media (max-width: 480px) {\n            textarea {\n              min-height: 350px !important;\n              font-size: 16px !important; /* √âvite le zoom sur iOS */\n            }\n          }\n        `}\n      </style>\n    </div>\n  );\n};\n\nexport default NotesPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}